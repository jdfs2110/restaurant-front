<p-button
  title="Cambiar contraseña"
  icon="pi pi-key"
  [rounded]="true"
  (onClick)="showDialog()"
  [disabled]="rolId !== 4 && user.id_rol === 4"
/>
<!-- styleClass="md:hidden ml-2" -->
<!-- <p-button
  label="Cambiar contraseña"
  styleClass="hidden md:inline-flex"
  (onClick)="showDialog()"
  [disabled]="rolId !== 4 && user.id_rol === 4"
/> -->
<p-dialog
  [(visible)]="isVisible"
  [modal]="true"
  [draggable]="false"
  (onHide)="refresh()"
>
  <ng-template pTemplate="header">
    <span class="font-bold white-space-nowrap"> Cambiar contraseña </span>
  </ng-template>

  <form [formGroup]="passwordGroup" (submit)="onSubmit($event)">
    <div class="field">
      <label for="password">Contraseña</label>
      <input
        name="password"
        id="password"
        pInputText
        formControlName="password"
        type="password"
        class="w-full"
      />
      @if (submitted && passwordGroup.controls["password"].invalid) {
        <error-p class="pb-1">{{ getPasswordErrors() }}</error-p>
      }
    </div>

    <div class="field">
      <label for="password">Repetir contraseña</label>
      <input
        formControlName="password_confirmation"
        type="text"
        name="password_confirmation"
        id="password_confirmation"
        pInputText
        type="password"
        class="w-full"
      />
      @if (
        submitted && passwordGroup.controls["password_confirmation"].invalid
      ) {
        <error-p class="pb-1">{{ getPasswordConfirmationErrors() }}</error-p>
      }
    </div>

    <p-button
      type="submit"
      styleClass="w-full"
      label="Cambiar contraseña"
      [loading]="isLoading"
      loadingIcon="right"
    />
  </form>
</p-dialog>
